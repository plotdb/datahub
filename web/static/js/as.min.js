var form,ctrl;function import$(t,n){var r,i={}.hasOwnProperty;for(r in n)i.call(n,r)&&(t[r]=n[r]);return t}import$((form=datahub.as(function(t){return this.id=(t=null==t?{}:t).id||0,this})).prototype,{doUpdate:function(t){var n=JSON.parse(JSON.stringify(this.data));return n["form-"+this.id]=t,n=json0.diff(this.data,n),this.src.opsOut(n)},render:function(){return this.view.render()},init:function(t){var n=this,t=t.node;return this.view=new ldView({root:t,action:{input:{input:function(t){t=t.node;return n.doUpdate(t.value)}}},handler:{output:function(t){return t.node.value=JSON.stringify(n.data," ",2)}}})}}),(ctrl={init:function(){var n=this;return this.src=new datahub.mem,this.src.opsOut([{p:"hi",oi:"hello"}]),this.forms=[0,1,2].map(function(t){return new form({src:n.src,id:t})}),this.view=new ldView({root:document.body,handler:{form:{list:function(){return n.forms},init:function(t){var n=t.node;return t.data.init({node:n})}}}})}}).init();