function import$(t,n){var r={}.hasOwnProperty;for(var a in n)r.call(n,a)&&(t[a]=n[a]);return t}var sharehub;(sharehub=function(t){return null==t&&(t={}),this.data={},this}).prototype=import$(Object.create(Object.prototype),{pipe:function(t){return this.hub.pipe(t),t.adopt(this.hub)},cut:function(){return this.hub.pipe(cut)},watch:function(t){return this.hub.opsIn(JSON.parse(JSON.stringify(t)))},init:function(){var t,n=this;return this.ldld=t=new ldLoader({className:"full ldld"}),t.on(),new sharedbWrapper({url:window.location.protocol.replace(":","")},window.location.domain).get({id:"sample",watch:function(t){return n.watch(t)}}).then(function(t){return n.doc=t,n.data=JSON.parse(JSON.stringify(n.doc.data)),n.hub=new hub,n.hub.get=function(){return n.data},n.hub.opsOut=function(t){var r;return r=[],t.map(function(t){var a,e,i,u,o,p=[];for(a=n.data,e=[],i=0,u=t.p.length-1;i<u;++i)o=i,e.push(t.p[o]),a[t.p[o]]||r.push({p:JSON.parse(JSON.stringify(e)),oi:{}}),p.push(a=a[t.p[o]]||{});return p}),t=r.concat(t),t=JSON.parse(JSON.stringify(t)),n.data=json0.type.apply(n.data,t),n.doc.submitOp(t)}}).then(function(){return t.off()})}});