(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.sharehub=f()}})(function(){var define,module,exports;var _$json0Min_3={exports:{}};(function(global){(function(){require=function(){return function t(e,n,r){function i(l,o){if(!n[l]){if(!e[l]){var s="function"=="function"&&require;if(!o&&s)return s(l,!0);if(f)return f(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[l]={exports:{}};e[l][0].call(h.exports,function(t){return i(e[l][1][t]||t)},h,h.exports,t,e,n,r)}return n[l].exports}for(var f="function"=="function"&&require,l=0;l<r.length;l++)i(r[l]);return i}}()({"regexp.prototype.flags":[function(t,e,n){(function(){e.exports=function(t){var e;return e="",t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}}).call(this)},{}]},{},[]),require=function(t){var e=function e(n,r){return e.m.hasOwnProperty(n)?e.m[n]:"function"!=typeof t||r?"function"==typeof e.r?e.r(n,1):void 0:t(n,1)};e.m={},e.r=t;var n,r=function(t,e,n,r){var i=t.transformX=function(t,f){n(t),n(f);for(var l,o,s,a=[],h=0;h<f.length;h++){for(var u=f[h],p=[],c=0;c<t.length;){var g=[];if(l=t[c],s=g,e(p,l,o=u,"left"),e(s,o,l,"right"),c++,1!==g.length){if(0===g.length){for(var d=c;d<t.length;d++)r(p,t[d]);u=null;break}for(var v=i(t.slice(c),g),m=0;m<v[0].length;m++)r(p,v[0][m]);for(var _=0;_<v[1].length;_++)r(a,v[1][_]);u=null;break}u=g[0]}null!=u&&r(a,u),t=p}return[t,a]};t.transform=function(t,n,r){if("left"!==r&&"right"!==r)throw new Error("type must be 'left' or 'right'");return 0===n.length?t:1===t.length&&1===n.length?e([],t[0],n[0],r):"left"===r?i(t,n)[0]:i(n,t)[1]}},i=n={name:"text0",uri:"http://sharejs.org/types/textv0",create:function(t){if(null!=t&&"string"!=typeof t)throw new Error("Initial data must be a string");return t||""}},f=function(t,e,n){return t.slice(0,e)+n+t.slice(e)},l=function(t){if("number"!=typeof t.p)throw new Error("component missing position field");if("string"==typeof t.i==("string"==typeof t.d))throw new Error("component needs an i or d field");if(t.p<0)throw new Error("position cannot be negative")},o=function(t){for(var e=0;e<t.length;e++)l(t[e])};i.apply=function(t,e){var n;o(e);for(var r=0;r<e.length;r++){var i=e[r];if(null!=i.i)t=f(t,i.p,i.i);else{if(n=t.slice(i.p,i.p+i.d.length),i.d!==n)throw new Error("Delete component '"+i.d+"' does not match deleted text '"+n+"'");t=t.slice(0,i.p)+t.slice(i.p+i.d.length)}}return t};var s=i._append=function(t,e){if(""!==e.i&&""!==e.d)if(0===t.length)t.push(e);else{var n=t[t.length-1];null!=n.i&&null!=e.i&&n.p<=e.p&&e.p<=n.p+n.i.length?t[t.length-1]={i:f(n.i,e.p-n.p,e.i),p:n.p}:null!=n.d&&null!=e.d&&e.p<=n.p&&n.p<=e.p+e.d.length?t[t.length-1]={d:f(e.d,n.p-e.p,n.d),p:e.p}:t.push(e)}};i.compose=function(t,e){o(t),o(e);for(var n=t.slice(),r=0;r<e.length;r++)s(n,e[r]);return n},i.normalize=function(t){var e=[];null==t.i&&null==t.p||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];null==r.p&&(r.p=0),s(e,r)}return e};var a=function(t,e,n){return null!=e.i?e.p<t||e.p===t&&n?t+e.i.length:t:t<=e.p?t:t<=e.p+e.d.length?e.p:t-e.d.length};i.transformCursor=function(t,e,n){for(var r="right"===n,i=0;i<e.length;i++)t=a(t,e[i],r);return t};var h=i._tc=function(t,e,n,r){if(l(e),l(n),null!=e.i)s(t,{i:e.i,p:a(e.p,n,"right"===r)});else if(null!=n.i){var i=e.d;e.p<n.p&&(s(t,{d:i.slice(0,n.p-e.p),p:e.p}),i=i.slice(n.p-e.p)),""!==i&&s(t,{d:i,p:e.p+n.i.length})}else if(e.p>=n.p+n.d.length)s(t,{d:e.d,p:e.p-n.d.length});else if(e.p+e.d.length<=n.p)s(t,e);else{var f={d:"",p:e.p};e.p<n.p&&(f.d=e.d.slice(0,n.p-e.p)),e.p+e.d.length>n.p+n.d.length&&(f.d+=e.d.slice(n.p+n.d.length-e.p));var o=Math.max(e.p,n.p),h=Math.min(e.p+e.d.length,n.p+n.d.length);if(e.d.slice(o-e.p,h-e.p)!==n.d.slice(o-n.p,h-n.p))throw new Error("Delete ops delete different text in the same region of the document");""!==f.d&&(f.p=a(f.p,n),s(t,f))}return t},u=function(t){return null!=t.i?{d:t.i,p:t.p}:{i:t.d,p:t.p}};i.invert=function(t){t=t.slice().reverse();for(var e=0;e<t.length;e++)t[e]=u(t[e]);return t},r(i,h,o,s);var p=function(t){return"[object Array]"==Object.prototype.toString.call(t)},c=function(t){return JSON.parse(JSON.stringify(t))},g={name:"json0",uri:"http://sharejs.org/types/JSONv0"},d={};function v(t){t.t="text0";var e={p:t.p.pop()};null!=t.si&&(e.i=t.si),null!=t.sd&&(e.d=t.sd),t.o=[e]}function m(t){t.p.push(t.o[0].p),null!=t.o[0].i&&(t.si=t.o[0].i),null!=t.o[0].d&&(t.sd=t.o[0].d),delete t.t,delete t.o}g.registerSubtype=function(t){d[t.name]=t},g.create=function(t){return void 0===t?null:c(t)},g.invertComponent=function(t){var e={p:t.p};return t.t&&d[t.t]&&(e.t=t.t,e.o=d[t.t].invert(t.o)),void 0!==t.si&&(e.sd=t.si),void 0!==t.sd&&(e.si=t.sd),void 0!==t.oi&&(e.od=t.oi),void 0!==t.od&&(e.oi=t.od),void 0!==t.li&&(e.ld=t.li),void 0!==t.ld&&(e.li=t.ld),void 0!==t.na&&(e.na=-t.na),void 0!==t.lm&&(e.lm=t.p[t.p.length-1],e.p=t.p.slice(0,t.p.length-1).concat([t.lm])),e},g.invert=function(t){for(var e=t.slice().reverse(),n=[],r=0;r<e.length;r++)n.push(g.invertComponent(e[r]));return n},g.checkValidOp=function(t){for(var e=0;e<t.length;e++)if(!p(t[e].p))throw new Error("Missing path")},g.checkList=function(t){if(!p(t))throw new Error("Referenced element not a list")},g.checkObj=function(t){if(!function(t){return!!t&&t.constructor===Object}(t))throw new Error("Referenced element not an object (it was "+JSON.stringify(t)+")")},g.apply=function(t,e){g.checkValidOp(e),e=c(e);for(var n={data:t},r=0;r<e.length;r++){var i=e[r];null==i.si&&null==i.sd||v(i);for(var f=null,l=n,o="data",s=0;s<i.p.length;s++){var a=i.p[s];if(f=l,l=l[o],o=a,null==f)throw new Error("Path invalid")}if(i.t&&void 0!==i.o&&d[i.t])l[o]=d[i.t].apply(l[o],i.o);else if(void 0!==i.na){if("number"!=typeof l[o])throw new Error("Referenced element not a number");l[o]+=i.na}else if(void 0!==i.li&&void 0!==i.ld)g.checkList(l),l[o]=i.li;else if(void 0!==i.li)g.checkList(l),l.splice(o,0,i.li);else if(void 0!==i.ld)g.checkList(l),l.splice(o,1);else if(void 0!==i.lm){if(g.checkList(l),i.lm!=o){var h=l[o];l.splice(o,1),l.splice(i.lm,0,h)}}else if(void 0!==i.oi)g.checkObj(l),l[o]=i.oi;else{if(void 0===i.od)throw new Error("invalid / missing instruction in op");g.checkObj(l),delete l[o]}}return n.data},g.shatter=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n]]);return e},g.incrementalApply=function(t,e,n){for(var r=0;r<e.length;r++){var i=[e[r]];n(i,t=g.apply(t,i))}return t};var _=g.pathMatches=function(t,e,n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r]&&(!n||r!==t.length-1))return!1;return!0};g.append=function(t,e){if(e=c(e),0!==t.length){var n=t[t.length-1];if(null==e.si&&null==e.sd||null==n.si&&null==n.sd||(v(e),v(n)),_(e.p,n.p))if(e.t&&n.t&&e.t===n.t&&d[e.t]){if(n.o=d[e.t].compose(n.o,e.o),null!=e.si||null!=e.sd){for(var r=e.p,i=0;i<n.o.length-1;i++)e.o=[n.o.pop()],e.p=r.slice(),m(e),t.push(e);m(n)}}else null!=n.na&&null!=e.na?t[t.length-1]={p:n.p,na:n.na+e.na}:void 0!==n.li&&void 0===e.li&&e.ld===n.li?void 0!==n.ld?delete n.li:t.pop():void 0!==n.od&&void 0===n.oi&&void 0!==e.oi&&void 0===e.od?n.oi=e.oi:void 0!==n.oi&&void 0!==e.od?void 0!==e.oi?n.oi=e.oi:void 0!==n.od?delete n.oi:t.pop():void 0!==e.lm&&e.p[e.p.length-1]===e.lm||t.push(e);else null==e.si&&null==e.sd||null==n.si&&null==n.sd||(m(e),m(n)),t.push(e)}else t.push(e)},g.compose=function(t,e){g.checkValidOp(t),g.checkValidOp(e);for(var n=c(t),r=0;r<e.length;r++)g.append(n,e[r]);return n},g.normalize=function(t){var e=[];t=p(t)?t:[t];for(var n=0;n<t.length;n++){var r=t[n];null==r.p&&(r.p=[]),g.append(e,r)}return e},g.commonLengthForOps=function(t,e){var n=t.p.length,r=e.p.length;if((null!=t.na||t.t)&&n++,(null!=e.na||e.t)&&r++,0===n)return-1;if(0===r)return null;n--,r--;for(var i=0;i<n;i++){var f=t.p[i];if(i>=r||f!==e.p[i])return null}return n},g.canOpAffectPath=function(t,e){return null!=g.commonLengthForOps({p:e},t)},g.transformComponent=function(t,e,n,r){e=c(e);var i=g.commonLengthForOps(n,e),f=g.commonLengthForOps(e,n),l=e.p.length,o=n.p.length;if((null!=e.na||e.t)&&l++,(null!=n.na||n.t)&&o++,null!=f&&o>l&&e.p[f]==n.p[f]&&(void 0!==e.ld?((a=c(n)).p=a.p.slice(l),e.ld=g.apply(c(e.ld),[a])):void 0!==e.od&&((a=c(n)).p=a.p.slice(l),e.od=g.apply(c(e.od),[a]))),null!=i){var s=l==o,a=n;if(null==e.si&&null==e.sd||null==n.si&&null==n.sd||(v(e),v(a=c(n))),a.t&&d[a.t]){if(e.t&&e.t===a.t){var h=d[e.t].transform(e.o,a.o,r);if(null!=e.si||null!=e.sd)for(var u=e.p,_=0;_<h.length;_++)e.o=[h[_]],e.p=u.slice(),m(e),g.append(t,e);else(!p(h)||h.length>0)&&(e.o=h,g.append(t,e));return t}}else if(void 0!==n.na);else if(void 0!==n.li&&void 0!==n.ld){if(n.p[i]===e.p[i]){if(!s)return t;if(void 0!==e.ld){if(void 0===e.li||"left"!==r)return t;e.ld=c(n.li)}}}else if(void 0!==n.li)void 0!==e.li&&void 0===e.ld&&s&&e.p[i]===n.p[i]?"right"===r&&e.p[i]++:n.p[i]<=e.p[i]&&e.p[i]++,void 0!==e.lm&&s&&n.p[i]<=e.lm&&e.lm++;else if(void 0!==n.ld){if(void 0!==e.lm&&s){if(n.p[i]===e.p[i])return t;u=n.p[i];var b=e.p[i];(u<(y=e.lm)||u===y&&b<y)&&e.lm--}if(n.p[i]<e.p[i])e.p[i]--;else if(n.p[i]===e.p[i]){if(o<l)return t;if(void 0!==e.ld){if(void 0===e.li)return t;delete e.ld}}}else if(void 0!==n.lm)if(void 0!==e.lm&&l===o){b=e.p[i];var y=e.lm,w=n.p[i],x=n.lm;if(w!==x)if(b===w){if("left"!==r)return t;e.p[i]=x,b===y&&(e.lm=x)}else b>w&&e.p[i]--,b>x?e.p[i]++:b===x&&w>x&&(e.p[i]++,b===y&&e.lm++),y>w?e.lm--:y===w&&y>b&&e.lm--,y>x?e.lm++:y===x&&(x>w&&y>b||x<w&&y<b?"right"===r&&e.lm++:y>b?e.lm++:y===w&&e.lm--)}else void 0!==e.li&&void 0===e.ld&&s?(b=n.p[i],y=n.lm,(u=e.p[i])>b&&e.p[i]--,u>y&&e.p[i]++):(b=n.p[i],y=n.lm,(u=e.p[i])===b?e.p[i]=y:(u>b&&e.p[i]--,u>y?e.p[i]++:u===y&&b>y&&e.p[i]++));else if(void 0!==n.oi&&void 0!==n.od){if(e.p[i]===n.p[i]){if(void 0===e.oi||!s)return t;if("right"===r)return t;e.od=n.oi}}else if(void 0!==n.oi){if(void 0!==e.oi&&e.p[i]===n.p[i]){if("left"!==r)return t;g.append(t,{p:e.p,od:n.oi})}}else if(void 0!==n.od&&e.p[i]==n.p[i]){if(!s)return t;if(void 0===e.oi)return t;delete e.od}}return g.append(t,e),t},r(g,g.transformComponent,g.checkValidOp,g.append),g.registerSubtype(n);var b={type:g};return e.m["ot-json0"]=b,e}("function"=="function"?require:void 0),require=function(){return function t(e,n,r){function i(l,o){if(!n[l]){if(!e[l]){var s="function"=="function"&&require;if(!o&&s)return s(l,!0);if(f)return f(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[l]={exports:{}};e[l][0].call(h.exports,function(t){return i(e[l][1][t]||t)},h,h.exports,t,e,n,r)}return n[l].exports}for(var f="function"=="function"&&require,l=0;l<r.length;l++)i(r[l]);return i}}()({"regexp.prototype.flags":[function(t,e,n){(function(){e.exports=function(t){var e;return e="",t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}}).call(this)},{}]},{},[]),require=function(t){var e=function e(n,r){return e.m.hasOwnProperty(n)?e.m[n]:"function"!=typeof t||r?"function"==typeof e.r?e.r(n,1):void 0:t(n,1)};e.m={},e.r=t;var n={};function r(t){var e=[];for(var n in t)e.push(n);return e}(n=n="function"==typeof Object.keys?Object.keys:r).shim=r;var i={},f="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function l(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function o(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(i=i=f?l:o).supported=l,i.unsupported=o;var s,a,h=Array.prototype.slice,u=s=function(t,e,r){return r||(r={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?r.strict?t===e:t==e:function(t,e,r){var f,l;if(p(t)||p(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t))return!!i(e)&&(t=h.call(t),e=h.call(e),u(t,e,r));if(c(t)){if(!c(e))return!1;if(t.length!==e.length)return!1;for(f=0;f<t.length;f++)if(t[f]!==e[f])return!1;return!0}try{var o=n(t),s=n(e)}catch(t){return!1}if(o.length!=s.length)return!1;for(o.sort(),s.sort(),f=o.length-1;f>=0;f--)if(o[f]!=s[f])return!1;for(f=o.length-1;f>=0;f--)if(l=o[f],!u(t[l],e[l],r))return!1;return typeof t==typeof e}(t,e,r))};function p(t){return null==t}function c(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var g=function(t,e,n,r){void 0===n&&(n=[]);var i="string"==typeof n[n.length-1];if(s(t,e))return[];if(void 0===e)return(f={p:n})[i?"od":"ld"]=t,[f];if(void 0===t)return(f={p:n})[i?"oi":"li"]=e,[f];if(r&&"string"==typeof t&&"string"==typeof e)return a||(a=new r),function(t,e,n,r,i){var f=[],l=a.patch_make(e,n);return Object.keys(l).forEach(function(e){var n=l[e],i=n.start1;n.diffs.forEach(function(e){var n=e[0],l=e[1];switch(n){case r.DIFF_DELETE:f.push({sd:l,p:t.concat([i])});break;case r.DIFF_INSERT:f.push({si:l,p:t.concat([i])});case r.DIFF_EQUAL:i+=l.length;break;default:throw Error("Unsupported operation type: "+n)}})}),f}(n,t,e,r);var f,l=["string","number","boolean"];if(l.includes(typeof e)||l.includes(typeof t))return(f={p:n})[i?"od":"ld"]=t,f[i?"oi":"li"]=e,[f];if(Array.isArray(e)){for(var o=[],h=Math.max(t.length,e.length),u=(o=[],0),p=0;p<h;++p)g(t[p],e[p],n.concat([p+u]),r).forEach(function(t){var e=t.p.slice(0,-1);s(n,e)&&("li"in t&&u++,"ld"in t&&u--),o.push(t)});return o}return o=[],new Set(Object.keys(t).concat(Object.keys(e))).forEach(function(i){var f=g(t[i],e[i],n.concat([i]),r);o=o.concat(f)}),o};return e.m["json0-ot-diff"]=function(t,e,n){return function(t){for(var e=0,n=t.length-1;e<n;++e){var r=t[e],i=t[e+1];s(r.p.slice(0,-1),i.p.slice(0,-1))&&r.p[r.p.length-1]+1===i.p[i.p.length-1]&&r.li&&i.ld&&s(r.li,i.ld)&&(delete r.li,delete i.ld)}return t.filter(function(t){return Object.keys(t).length>1})}(g(t,e,[],n))},e}("function"=="function"?require:void 0),require=function(t){var e=function e(n,r){return e.m.hasOwnProperty(n)?e.m[n]:"function"!=typeof t||r?"function"==typeof e.r?e.r(n,1):void 0:t(n,1)};e.m={},e.r=t;var n={},r=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32};return r.Diff=function(t,e){return[t,e]},r.prototype.diff_main=function(t,e,n,i){void 0===i&&(i=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var f=i;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t==e)return t?[new r.Diff(0,t)]:[];void 0===n&&(n=!0);var l=n,o=this.diff_commonPrefix(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=this.diff_commonSuffix(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var h=this.diff_compute_(t,e,l,f);return s&&h.unshift(new r.Diff(0,s)),a&&h.push(new r.Diff(0,a)),this.diff_cleanupMerge(h),h},r.prototype.diff_compute_=function(t,e,n,i){var f;if(!t)return[new r.Diff(1,e)];if(!e)return[new r.Diff(-1,t)];var l=t.length>e.length?t:e,o=t.length>e.length?e:t,s=l.indexOf(o);if(-1!=s)return f=[new r.Diff(1,l.substring(0,s)),new r.Diff(0,o),new r.Diff(1,l.substring(s+o.length))],t.length>e.length&&(f[0][0]=f[2][0]=-1),f;if(1==o.length)return[new r.Diff(-1,t),new r.Diff(1,e)];var a=this.diff_halfMatch_(t,e);if(a){var h=a[0],u=a[1],p=a[2],c=a[3],g=a[4],d=this.diff_main(h,p,n,i),v=this.diff_main(u,c,n,i);return d.concat([new r.Diff(0,g)],v)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,i):this.diff_bisect_(t,e,i)},r.prototype.diff_lineMode_=function(t,e,n){var i=this.diff_linesToChars_(t,e);t=i.chars1,e=i.chars2;var f=i.lineArray,l=this.diff_main(t,e,!1,n);this.diff_charsToLines_(l,f),this.diff_cleanupSemantic(l),l.push(new r.Diff(0,""));for(var o=0,s=0,a=0,h="",u="";o<l.length;){switch(l[o][0]){case 1:a++,u+=l[o][1];break;case-1:s++,h+=l[o][1];break;case 0:if(s>=1&&a>=1){l.splice(o-s-a,s+a),o=o-s-a;for(var p=this.diff_main(h,u,!1,n),c=p.length-1;c>=0;c--)l.splice(o,0,p[c]);o+=p.length}a=0,s=0,h="",u=""}o++}return l.pop(),l},r.prototype.diff_bisect_=function(t,e,n){for(var i=t.length,f=e.length,l=Math.ceil((i+f)/2),o=l,s=2*l,a=new Array(s),h=new Array(s),u=0;u<s;u++)a[u]=-1,h[u]=-1;a[o+1]=0,h[o+1]=0;for(var p=i-f,c=p%2!=0,g=0,d=0,v=0,m=0,_=0;_<l&&!((new Date).getTime()>n);_++){for(var b=-_+g;b<=_-d;b+=2){for(var y=o+b,w=(j=b==-_||b!=_&&a[y-1]<a[y+1]?a[y+1]:a[y-1]+1)-b;j<i&&w<f&&t.charAt(j)==e.charAt(w);)j++,w++;if(a[y]=j,j>i)d+=2;else if(w>f)g+=2;else if(c&&(D=o+p-b)>=0&&D<s&&-1!=h[D]&&j>=(M=i-h[D]))return this.diff_bisectSplit_(t,e,j,w,n)}for(var x=-_+v;x<=_-m;x+=2){for(var M,D=o+x,k=(M=x==-_||x!=_&&h[D-1]<h[D+1]?h[D+1]:h[D-1]+1)-x;M<i&&k<f&&t.charAt(i-M-1)==e.charAt(f-k-1);)M++,k++;if(h[D]=M,M>i)m+=2;else if(k>f)v+=2;else if(!c){var j;if((y=o+p-x)>=0&&y<s&&-1!=a[y]&&(w=o+(j=a[y])-y,j>=(M=i-M)))return this.diff_bisectSplit_(t,e,j,w,n)}}}return[new r.Diff(-1,t),new r.Diff(1,e)]},r.prototype.diff_bisectSplit_=function(t,e,n,r,i){var f=t.substring(0,n),l=e.substring(0,r),o=t.substring(n),s=e.substring(r),a=this.diff_main(f,l,!1,i),h=this.diff_main(o,s,!1,i);return a.concat(h)},r.prototype.diff_linesToChars_=function(t,e){var n=[],r={};function i(t){for(var e="",i=0,l=-1,o=n.length;l<t.length-1;){-1==(l=t.indexOf("\n",i))&&(l=t.length-1);var s=t.substring(i,l+1);(r.hasOwnProperty?r.hasOwnProperty(s):void 0!==r[s])?e+=String.fromCharCode(r[s]):(o==f&&(s=t.substring(i),l=t.length),e+=String.fromCharCode(o),r[s]=o,n[o++]=s),i=l+1}return e}n[0]="";var f=4e4,l=i(t);return f=65535,{chars1:l,chars2:i(e),lineArray:n}},r.prototype.diff_charsToLines_=function(t,e){for(var n=0;n<t.length;n++){for(var r=t[n][1],i=[],f=0;f<r.length;f++)i[f]=e[r.charCodeAt(f)];t[n][1]=i.join("")}},r.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,f=0;n<i;)t.substring(f,i)==e.substring(f,i)?f=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,f=0;n<i;)t.substring(t.length-i,t.length-f)==e.substring(e.length-i,e.length-f)?f=n=i:r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0==n||0==r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t==e)return i;for(var f=0,l=1;;){var o=t.substring(i-l),s=e.indexOf(o);if(-1==s)return f;l+=s,0!=s&&t.substring(i-l)!=e.substring(0,l)||(f=l,l++)}},r.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i=this;function f(t,e,n){for(var r,f,l,o,s=t.substring(n,n+Math.floor(t.length/4)),a=-1,h="";-1!=(a=e.indexOf(s,a+1));){var u=i.diff_commonPrefix(t.substring(n),e.substring(a)),p=i.diff_commonSuffix(t.substring(0,n),e.substring(0,a));h.length<p+u&&(h=e.substring(a-p,a)+e.substring(a,a+u),r=t.substring(0,n-p),f=t.substring(n+u),l=e.substring(0,a-p),o=e.substring(a+u))}return 2*h.length>=t.length?[r,f,l,o,h]:null}var l,o,s,a,h,u=f(n,r,Math.ceil(n.length/4)),p=f(n,r,Math.ceil(n.length/2));return u||p?(l=p?u&&u[4].length>p[4].length?u:p:u,t.length>e.length?(o=l[0],s=l[1],a=l[2],h=l[3]):(a=l[0],h=l[1],o=l[2],s=l[3]),[o,s,a,h,l[4]]):null},r.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],i=0,f=null,l=0,o=0,s=0,a=0,h=0;l<t.length;)0==t[l][0]?(n[i++]=l,o=a,s=h,a=0,h=0,f=t[l][1]):(1==t[l][0]?a+=t[l][1].length:h+=t[l][1].length,f&&f.length<=Math.max(o,s)&&f.length<=Math.max(a,h)&&(t.splice(n[i-1],0,new r.Diff(-1,f)),t[n[i-1]+1][0]=1,i--,l=--i>0?n[i-1]:-1,o=0,s=0,a=0,h=0,f=null,e=!0)),l++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),l=1;l<t.length;){if(-1==t[l-1][0]&&1==t[l][0]){var u=t[l-1][1],p=t[l][1],c=this.diff_commonOverlap_(u,p),g=this.diff_commonOverlap_(p,u);c>=g?(c>=u.length/2||c>=p.length/2)&&(t.splice(l,0,new r.Diff(0,p.substring(0,c))),t[l-1][1]=u.substring(0,u.length-c),t[l+1][1]=p.substring(c),l++):(g>=u.length/2||g>=p.length/2)&&(t.splice(l,0,new r.Diff(0,u.substring(0,g))),t[l-1][0]=1,t[l-1][1]=p.substring(0,p.length-g),t[l+1][0]=-1,t[l+1][1]=u.substring(g),l++),l++}l++}},r.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=t.charAt(t.length-1),i=e.charAt(0),f=n.match(r.nonAlphaNumericRegex_),l=i.match(r.nonAlphaNumericRegex_),o=f&&n.match(r.whitespaceRegex_),s=l&&i.match(r.whitespaceRegex_),a=o&&n.match(r.linebreakRegex_),h=s&&i.match(r.linebreakRegex_),u=a&&t.match(r.blanklineEndRegex_),p=h&&e.match(r.blanklineStartRegex_);return u||p?5:a||h?4:f&&!o&&s?3:o||s?2:f||l?1:0}for(var n=1;n<t.length-1;){if(0==t[n-1][0]&&0==t[n+1][0]){var i=t[n-1][1],f=t[n][1],l=t[n+1][1],o=this.diff_commonSuffix(i,f);if(o){var s=f.substring(f.length-o);i=i.substring(0,i.length-o),f=s+f.substring(0,f.length-o),l=s+l}for(var a=i,h=f,u=l,p=e(i,f)+e(f,l);f.charAt(0)===l.charAt(0);){i+=f.charAt(0),f=f.substring(1)+l.charAt(0),l=l.substring(1);var c=e(i,f)+e(f,l);c>=p&&(p=c,a=i,h=f,u=l)}t[n-1][1]!=a&&(a?t[n-1][1]=a:(t.splice(n-1,1),n--),t[n][1]=h,u?t[n+1][1]=u:(t.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],i=0,f=null,l=0,o=!1,s=!1,a=!1,h=!1;l<t.length;)0==t[l][0]?(t[l][1].length<this.Diff_EditCost&&(a||h)?(n[i++]=l,o=a,s=h,f=t[l][1]):(i=0,f=null),a=h=!1):(-1==t[l][0]?h=!0:a=!0,f&&(o&&s&&a&&h||f.length<this.Diff_EditCost/2&&o+s+a+h==3)&&(t.splice(n[i-1],0,new r.Diff(-1,f)),t[n[i-1]+1][0]=1,i--,f=null,o&&s?(a=h=!0,i=0):(l=--i>0?n[i-1]:-1,a=h=!1),e=!0)),l++;e&&this.diff_cleanupMerge(t)},r.prototype.diff_cleanupMerge=function(t){t.push(new r.Diff(0,""));for(var e,n=0,i=0,f=0,l="",o="";n<t.length;)switch(t[n][0]){case 1:f++,o+=t[n][1],n++;break;case-1:i++,l+=t[n][1],n++;break;case 0:i+f>1?(0!==i&&0!==f&&(0!==(e=this.diff_commonPrefix(o,l))&&(n-i-f>0&&0==t[n-i-f-1][0]?t[n-i-f-1][1]+=o.substring(0,e):(t.splice(0,0,new r.Diff(0,o.substring(0,e))),n++),o=o.substring(e),l=l.substring(e)),0!==(e=this.diff_commonSuffix(o,l))&&(t[n][1]=o.substring(o.length-e)+t[n][1],o=o.substring(0,o.length-e),l=l.substring(0,l.length-e))),n-=i+f,t.splice(n,i+f),l.length&&(t.splice(n,0,new r.Diff(-1,l)),n++),o.length&&(t.splice(n,0,new r.Diff(1,o)),n++),n++):0!==n&&0==t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,f=0,i=0,l="",o=""}""===t[t.length-1][1]&&t.pop();var s=!1;for(n=1;n<t.length-1;)0==t[n-1][0]&&0==t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)==t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),s=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),s=!0)),n++;s&&this.diff_cleanupMerge(t)},r.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,f=0,l=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)f=r,l=i;return t.length!=n&&-1===t[n][0]?l:l+(e-f)},r.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,f=/\n/g,l=0;l<t.length;l++){var o=t[l][0],s=t[l][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(f,"&para;<br>");switch(o){case 1:e[l]='<ins style="background:#e6ffe6;">'+s+"</ins>";break;case-1:e[l]='<del style="background:#ffe6e6;">'+s+"</del>";break;case 0:e[l]="<span>"+s+"</span>"}}return e.join("")},r.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},r.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},r.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0;i<t.length;i++){var f=t[i][0],l=t[i][1];switch(f){case 1:n+=l.length;break;case-1:r+=l.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+Math.max(n,r)},r.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(t,e){for(var n=[],i=0,f=0,l=e.split(/\t/g),o=0;o<l.length;o++){var s=l[o].substring(1);switch(l[o].charAt(0)){case"+":try{n[i++]=new r.Diff(1,decodeURI(s))}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+s)}break;case"-":case"=":var a=parseInt(s,10);if(isNaN(a)||a<0)throw new Error("Invalid number in diff_fromDelta: "+s);var h=t.substring(f,f+=a);"="==l[o].charAt(0)?n[i++]=new r.Diff(0,h):n[i++]=new r.Diff(-1,h);break;default:if(l[o])throw new Error("Invalid diff operation in diff_fromDelta: "+l[o])}}if(f!=t.length)throw new Error("Delta length ("+f+") does not equal source text length ("+t.length+").");return n},r.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t==e?0:t.length?t.substring(n,n+e.length)==e?n:this.match_bitap_(t,e,n):-1},r.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function f(t,r){var f=t/e.length,l=Math.abs(n-r);return i.Match_Distance?f+l/i.Match_Distance:l?1:f}var l=this.Match_Threshold,o=t.indexOf(e,n);-1!=o&&(l=Math.min(f(0,o),l),-1!=(o=t.lastIndexOf(e,n+e.length))&&(l=Math.min(f(0,o),l)));var s,a,h=1<<e.length-1;o=-1;for(var u,p=e.length+t.length,c=0;c<e.length;c++){for(s=0,a=p;s<a;)f(c,n+a)<=l?s=a:p=a,a=Math.floor((p-s)/2+s);p=a;var g=Math.max(1,n-a+1),d=Math.min(n+a,t.length)+e.length,v=Array(d+2);v[d+1]=(1<<c)-1;for(var m=d;m>=g;m--){var _=r[t.charAt(m-1)];if(v[m]=0===c?(v[m+1]<<1|1)&_:(v[m+1]<<1|1)&_|(u[m+1]|u[m])<<1|1|u[m+1],v[m]&h){var b=f(c,m-1);if(b<=l){if(l=b,!((o=m-1)>n))break;g=Math.max(1,2*n-o)}}}if(f(c+1,n)>l)break;u=v}return o},r.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},r.prototype.patch_addContext_=function(t,e){if(0!=e.length){if(null===t.start2)throw Error("patch not initialized");for(var n=e.substring(t.start2,t.start2+t.length1),i=0;e.indexOf(n)!=e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=e.substring(t.start2-i,t.start2+t.length1+i);i+=this.Patch_Margin;var f=e.substring(t.start2-i,t.start2);f&&t.diffs.unshift(new r.Diff(0,f));var l=e.substring(t.start2+t.length1,t.start2+t.length1+i);l&&t.diffs.push(new r.Diff(0,l)),t.start1-=f.length,t.start2-=f.length,t.length1+=f.length+l.length,t.length2+=f.length+l.length}},r.prototype.patch_make=function(t,e,n){var i,f;if("string"==typeof t&&"string"==typeof e&&void 0===n)i=t,(f=this.diff_main(i,e,!0)).length>2&&(this.diff_cleanupSemantic(f),this.diff_cleanupEfficiency(f));else if(t&&"object"==typeof t&&void 0===e&&void 0===n)f=t,i=this.diff_text1(f);else if("string"==typeof t&&e&&"object"==typeof e&&void 0===n)i=t,f=e;else{if("string"!=typeof t||"string"!=typeof e||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");i=t,f=n}if(0===f.length)return[];for(var l=[],o=new r.patch_obj,s=0,a=0,h=0,u=i,p=i,c=0;c<f.length;c++){var g=f[c][0],d=f[c][1];switch(s||0===g||(o.start1=a,o.start2=h),g){case 1:o.diffs[s++]=f[c],o.length2+=d.length,p=p.substring(0,h)+d+p.substring(h);break;case-1:o.length1+=d.length,o.diffs[s++]=f[c],p=p.substring(0,h)+p.substring(h+d.length);break;case 0:d.length<=2*this.Patch_Margin&&s&&f.length!=c+1?(o.diffs[s++]=f[c],o.length1+=d.length,o.length2+=d.length):d.length>=2*this.Patch_Margin&&s&&(this.patch_addContext_(o,u),l.push(o),o=new r.patch_obj,s=0,u=p,a=h)}1!==g&&(a+=d.length),-1!==g&&(h+=d.length)}return s&&(this.patch_addContext_(o,u),l.push(o)),l},r.prototype.patch_deepCopy=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],f=new r.patch_obj;f.diffs=[];for(var l=0;l<i.diffs.length;l++)f.diffs[l]=new r.Diff(i.diffs[l][0],i.diffs[l][1]);f.start1=i.start1,f.start2=i.start2,f.length1=i.length1,f.length2=i.length2,e[n]=f}return e},r.prototype.patch_apply=function(t,e){if(0==t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],f=0;f<t.length;f++){var l,o,s=t[f].start2+r,a=this.diff_text1(t[f].diffs),h=-1;if(a.length>this.Match_MaxBits?-1!=(l=this.match_main(e,a.substring(0,this.Match_MaxBits),s))&&(-1==(h=this.match_main(e,a.substring(a.length-this.Match_MaxBits),s+a.length-this.Match_MaxBits))||l>=h)&&(l=-1):l=this.match_main(e,a,s),-1==l)i[f]=!1,r-=t[f].length2-t[f].length1;else if(i[f]=!0,r=l-s,a==(o=-1==h?e.substring(l,l+a.length):e.substring(l,h+this.Match_MaxBits)))e=e.substring(0,l)+this.diff_text2(t[f].diffs)+e.substring(l+a.length);else{var u=this.diff_main(a,o,!1);if(a.length>this.Match_MaxBits&&this.diff_levenshtein(u)/a.length>this.Patch_DeleteThreshold)i[f]=!1;else{this.diff_cleanupSemanticLossless(u);for(var p,c=0,g=0;g<t[f].diffs.length;g++){var d=t[f].diffs[g];0!==d[0]&&(p=this.diff_xIndex(u,c)),1===d[0]?e=e.substring(0,l+p)+d[1]+e.substring(l+p):-1===d[0]&&(e=e.substring(0,l+p)+e.substring(l+this.diff_xIndex(u,c+d[1].length))),-1!==d[0]&&(c+=d[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),i]},r.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",i=1;i<=e;i++)n+=String.fromCharCode(i);for(i=0;i<t.length;i++)t[i].start1+=e,t[i].start2+=e;var f=t[0],l=f.diffs;if(0==l.length||0!=l[0][0])l.unshift(new r.Diff(0,n)),f.start1-=e,f.start2-=e,f.length1+=e,f.length2+=e;else if(e>l[0][1].length){var o=e-l[0][1].length;l[0][1]=n.substring(l[0][1].length)+l[0][1],f.start1-=o,f.start2-=o,f.length1+=o,f.length2+=o}return 0==(l=(f=t[t.length-1]).diffs).length||0!=l[l.length-1][0]?(l.push(new r.Diff(0,n)),f.length1+=e,f.length2+=e):e>l[l.length-1][1].length&&(o=e-l[l.length-1][1].length,l[l.length-1][1]+=n.substring(0,o),f.length1+=o,f.length2+=o),n},r.prototype.patch_splitMax=function(t){for(var e=this.Match_MaxBits,n=0;n<t.length;n++)if(!(t[n].length1<=e)){var i=t[n];t.splice(n--,1);for(var f=i.start1,l=i.start2,o="";0!==i.diffs.length;){var s=new r.patch_obj,a=!0;for(s.start1=f-o.length,s.start2=l-o.length,""!==o&&(s.length1=s.length2=o.length,s.diffs.push(new r.Diff(0,o)));0!==i.diffs.length&&s.length1<e-this.Patch_Margin;){var h=i.diffs[0][0],u=i.diffs[0][1];1===h?(s.length2+=u.length,l+=u.length,s.diffs.push(i.diffs.shift()),a=!1):-1===h&&1==s.diffs.length&&0==s.diffs[0][0]&&u.length>2*e?(s.length1+=u.length,f+=u.length,a=!1,s.diffs.push(new r.Diff(h,u)),i.diffs.shift()):(u=u.substring(0,e-s.length1-this.Patch_Margin),s.length1+=u.length,f+=u.length,0===h?(s.length2+=u.length,l+=u.length):a=!1,s.diffs.push(new r.Diff(h,u)),u==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(u.length))}o=(o=this.diff_text2(s.diffs)).substring(o.length-this.Patch_Margin);var p=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==p&&(s.length1+=p.length,s.length2+=p.length,0!==s.diffs.length&&0===s.diffs[s.diffs.length-1][0]?s.diffs[s.diffs.length-1][1]+=p:s.diffs.push(new r.Diff(0,p))),a||t.splice(++n,0,s)}}},r.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},r.prototype.patch_fromText=function(t){var e=[];if(!t)return e;for(var n=t.split("\n"),i=0,f=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var l=n[i].match(f);if(!l)throw new Error("Invalid patch string: "+n[i]);var o=new r.patch_obj;for(e.push(o),o.start1=parseInt(l[1],10),""===l[2]?(o.start1--,o.length1=1):"0"==l[2]?o.length1=0:(o.start1--,o.length1=parseInt(l[2],10)),o.start2=parseInt(l[3],10),""===l[4]?(o.start2--,o.length2=1):"0"==l[4]?o.length2=0:(o.start2--,o.length2=parseInt(l[4],10)),i++;i<n.length;){var s=n[i].charAt(0);try{var a=decodeURI(n[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+a)}if("-"==s)o.diffs.push(new r.Diff(-1,a));else if("+"==s)o.diffs.push(new r.Diff(1,a));else if(" "==s)o.diffs.push(new r.Diff(0,a));else{if("@"==s)break;if(""!==s)throw new Error('Invalid patch mode "'+s+'" in: '+a)}i++}}return e},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},(n=r).diff_match_patch=r,n.DIFF_DELETE=-1,n.DIFF_INSERT=1,n.DIFF_EQUAL=0,e.m["diff-match-patch"]=n,e}("function"=="function"?require:void 0),function(t){if("object"==typeof _$json0Min_3.exports&&"undefined"!="object")_$json0Min_3.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).json0=t()}}(function(){return function(){return function t(e,n,r){function i(l,o){if(!n[l]){if(!e[l]){var s="function"=="function"&&require;if(!o&&s)return s(l,!0);if(f)return f(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var h=n[l]={exports:{}};e[l][0].call(h.exports,function(t){return i(e[l][1][t]||t)},h,h.exports,t,e,n,r)}return n[l].exports}for(var f="function"=="function"&&require,l=0;l<r.length;l++)i(r[l]);return i}}()({"/.built/json0.js":[function(t,e,n){var r,i,f;r=t("ot-json0"),i=t("json0-ot-diff"),f=t("diff-match-patch"),e.exports={type:r.type,diff:function(t,e){return i(t,e,f)}}},{"diff-match-patch":void 0,"json0-ot-diff":void 0,"ot-json0":void 0}]},{},[])("/.built/json0.js")})}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{});_$json0Min_3=_$json0Min_3.exports;var _$datahub_1={exports:{}};(function(){var t,n,r,e,o,s,u,i,p;function c(t,n){var r={}.hasOwnProperty;for(var e in n)r.call(n,e)&&(t[e]=n[e]);return t}t="undefined"!="object"&&null!==_$datahub_1?_$json0Min_3:json0,(n=r=function(t){var n=this;return null==t&&(t={}),this.opt=t,this.scope=t.scope||[],t.src&&t.src.pipe(this),this.subscriber=[],(t.subscriber||[]).map(function(t){return n.pipe.push(t)}),this}).prototype=c(Object.create(Object.prototype),{asSrc:function(t){var n=this;return null==t&&(t={}),this.src={get:t.get||function(){},opsOut:function(r){return t.opsOut(n.addon(r))||void n.addon(r)}}},asDes:function(t){return this.subscriber=[{opsIn:t.opsIn||function(){}}]},pipe:function(t){return t.src&&(console.warn("a hub is connected with multiple source. cut the previous source anyway."),t.src.cut(t)),this.subscriber.push(t),t.src=this,t},cut:function(t){var n;if(~(n=this.subscriber.indexOf(t)))return this.subscriber.splice(n,1),t.src=null},opsIn:function(t){var n,r=this;if(n=function(t,n){var r,e,o;for(r=0,e=n.length;r<e;++r)if(t[o=r]!==n[o])return;return t.slice(o+1)},this.scope&&(t=t.map(function(t){var e;return(e=c({},t)).p=n(t.p,r.scope),e})),(t=t.filter(function(t){return null!=t.p})).length)return this.subscriber.map(function(n){return n.opsIn(t)})},opsOut:function(t){var n=this;return this.scope&&t.map(function(t){return t.p=n.scope.concat(t.p)}),this.src.opsOut(t)},addon:function(t){var n,r;return n=[],r=this.get(),t.map(function(t){var e,o,s,u,i,p=[];for(e=r,o=[],s=0,u=t.p.length-1;s<u;++s)i=s,o.push(t.p[i]),null==e[t.p[i]]&&n.push(c({p:JSON.parse(JSON.stringify(o))},i===t.p.length-1&&t.si?{si:""}:{oi:{}})),p.push(e=e[t.p[i]]||{});return p}),t=n.concat(t)},get:function(){var t,n,r,e,o;for(t=this.src.get(),n=0,e=(r=this.scope).length;n<e;++n){if(o=r[n],!t)return null;t=t[o]}return t}}),(e=function(t){return null==t&&(t={}),n.call(this,t),this.asSrc({opsOut:t.opsOut||function(){},get:t.get||function(){}}),this}).prototype=c({},n.prototype),(o=function(t){return null==t&&(t={}),n.call(this,t),this.asDes({opsIn:t.opsIn}),this}).prototype=c({},n.prototype),(s=function(n){var r=this;return null==n&&(n={}),this.data={},e.call(this,c(c({},n),{opsOut:function(n){return r.data=t.type.apply(r.data,n),r.opsIn(n)},get:function(){return JSON.parse(JSON.stringify(r.data))}})),this}).prototype=c({},e.prototype),(u=function(n){var r=this;return null==n&&(n={}),o.call(this,c(c({},n),{opsIn:function(e){return r.data?t.type.apply(r.data,e):r.data=r.get()||{},n.render(e)}})),this}).prototype=c({},o.prototype),(i=function(t){var r=this;return null==t&&(t={}),this.src=t.src,this.src.pipe(this.hub=new n.des({opsIn:function(t){return r.update(t)}})),this.data=this.hub.get(),this}).prototype=c(Object.create(Object.prototype),{update:function(n){return t.type.apply(this.data,n),this.render()},render:function(){return console.log("render is not implemented")}}),p=function(t){var n;return t.prototype=Object.create(Object.prototype),n=function(){var r,e,o,s,u;for(e=[],o=0,s=arguments.length;o<s;++o)e.push(arguments[o]);return r=e,u=Reflect.construct(i,r,n),t.apply(u,r),u},Object.setPrototypeOf(n.prototype,i.prototype),n},r.src=e,r.des=o,r.mem=s,r.usr=u,r.as=p,"undefined"!="object"&&null!==_$datahub_1?_$datahub_1.exports=r:"undefined"!=typeof window&&null!==window&&(window.datahub=r)}).call(this);_$datahub_1=_$datahub_1.exports;var _$sharehub_2={exports:{}};(function(){var r,t;function n(r,t){var n={}.hasOwnProperty;for(var e in t)n.call(t,e)&&(r[e]=t[e]);return r}r="undefined"!="object"&&null!==_$sharehub_2?_$datahub_1:datahub,(t=function(t){var e=this;return null==t&&(t={}),this.evtHandler={},this.data={},this.id=t.id||"",this.create=t.create||null,r.src.call(this,n(n({},t),{opsOut:function(r){return e.data=json0.type.apply(e.data,r),e.doc.submitOp(JSON.parse(JSON.stringify(r)))},get:function(){return JSON.parse(JSON.stringify(e.data))}})),this}).prototype=n(n({},r.src.prototype),{on:function(r,t){var n;return((n=this.evtHandler)[r]||(n[r]=[])).push(t)},fire:function(r){var t,n,e,o,a,i,u,s=[];for(n=[],e=1,o=arguments.length;e<o;++e)n.push(arguments[e]);for(t=n,e=0,i=(a=this.evtHandler[r]||[]).length;e<i;++e)u=a[e],s.push(u.apply(this,t));return s},watch:function(r,t){return t||(this.data=json0.type.apply(this.data,t)),this.opsIn(JSON.parse(JSON.stringify(r)))},init:function(){var r=this;return Promise.resolve().then(function(){var t;return r.sdb=t=new sharedbWrapper({url:window.location.protocol.replace(":","")},window.location.domain),t.on("error",function(t){var n;return((n=r.evtHandler).error||(n.error=[])).length?r.fire("error",t.err):console.error(t.err)}),t.get({id:r.id,create:r.create?function(){return r.create()}:null,watch:function(){var t,n,e,o;for(n=[],e=0,o=arguments.length;e<o;++e)n.push(arguments[e]);return t=n,r.watch.apply(r,t)}})}).then(function(t){return r.doc=t,r.data=JSON.parse(JSON.stringify(r.doc.data)),{sdb:r.sdb}})}}),"undefined"!="object"&&null!==_$sharehub_2?_$sharehub_2.exports=t:"undefined"!=typeof window&&null!==window&&(window.sharehub=t)}).call(this);_$sharehub_2=_$sharehub_2.exports;return _$sharehub_2});
